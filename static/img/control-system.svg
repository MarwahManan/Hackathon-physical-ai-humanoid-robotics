<svg width="600" height="400" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="100%" height="100%" fill="#f8f9fa"/>

  <!-- Title -->
  <text x="300" y="30" font-family="Arial" font-size="20" text-anchor="middle" fill="#25c2a0">Humanoid Robot Control System</text>

  <!-- Feedback Control Loop -->
  <rect x="50" y="60" width="500" height="300" fill="white" stroke="#2196f3" stroke-width="2" rx="5"/>
  <text x="300" y="85" font-family="Arial" font-size="16" text-anchor="middle" fill="#2196f3">Feedback Control Loop</text>

  <!-- Controller block -->
  <rect x="250" y="120" width="100" height="60" fill="#e3f2fd" stroke="#1976d2" stroke-width="2" rx="5"/>
  <text x="300" y="145" font-family="Arial" font-size="12" text-anchor="middle" fill="#1976d2">Controller</text>
  <text x="300" y="160" font-family="Arial" font-size="10" text-anchor="middle" fill="#666">(PID, etc.)</text>

  <!-- Plant (Robot) block -->
  <rect x="250" y="220" width="100" height="60" fill="#e8f5e9" stroke="#388e3c" stroke-width="2" rx="5"/>
  <text x="300" y="245" font-family="Arial" font-size="12" text-anchor="middle" fill="#388e3c">Plant</text>
  <text x="300" y="260" font-family="Arial" font-size="10" text-anchor="middle" fill="#666">(Robot)</text>

  <!-- Arrows in the loop -->
  <!-- Reference input -->
  <line x1="150" y1="150" x2="250" y2="150" stroke="#000" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="200" y="145" font-family="Arial" font-size="10" text-anchor="middle" fill="#666">Reference</text>

  <!-- Control signal -->
  <line x1="300" y1="180" x2="300" y2="220" stroke="#000" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="310" y="200" font-family="Arial" font-size="10" text-anchor="start" fill="#666">Control</text>

  <!-- Plant output -->
  <line x1="250" y1="250" x2="150" y2="250" stroke="#000" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="200" y="245" font-family="Arial" font-size="10" text-anchor="middle" fill="#666">Output</text>

  <!-- Feedback -->
  <line x1="150" y1="250" x2="150" y2="150" stroke="#000" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="140" y="200" font-family="Arial" font-size="10" text-anchor="end" fill="#666">Feedback</text>

  <!-- Error calculation -->
  <circle cx="130" cy="150" r="10" fill="#ffcdd2" stroke="#d32f2f" stroke-width="2"/>
  <text x="130" y="154" font-family="Arial" font-size="10" text-anchor="middle" fill="#d32f2f">-</text>

  <!-- Robot representation -->
  <circle cx="450" cy="180" r="15" fill="#9e9e9e" stroke="#616161" stroke-width="1"/> <!-- Head -->
  <line x1="445" y1="195" x2="445" y2="225" stroke="#616161" stroke-width="2"/> <!-- Body -->
  <line x1="440" y1="200" x2="430" y2="210" stroke="#616161" stroke-width="1.5"/> <!-- Left arm -->
  <line x1="450" y1="200" x2="460" y2="210" stroke="#616161" stroke-width="1.5"/> <!-- Right arm -->
  <line x1="443" y1="225" x2="435" y2="250" stroke="#616161" stroke-width="1.5"/> <!-- Left leg -->
  <line x1="447" y1="225" x2="455" y2="250" stroke="#616161" stroke-width="1.5"/> <!-- Right leg -->

  <!-- Control hierarchy -->
  <rect x="50" y="370" width="120" height="25" fill="#fff3e0" stroke="#e65100" stroke-width="1" rx="3"/>
  <text x="110" y="388" font-family="Arial" font-size="10" text-anchor="middle" fill="#e65100">High-Level Control</text>

  <rect x="180" y="370" width="120" height="25" fill="#e1f5fe" stroke="#0277bd" stroke-width="1" rx="3"/>
  <text x="240" y="388" font-family="Arial" font-size="10" text-anchor="middle" fill="#0277bd">Mid-Level Control</text>

  <rect x="310" y="370" width="120" height="25" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="1" rx="3"/>
  <text x="370" y="388" font-family="Arial" font-size="10" text-anchor="middle" fill="#7b1fa2">Low-Level Control</text>

  <!-- Balance control indicator -->
  <circle cx="500" cy="280" r="20" fill="#c8e6c9" stroke="#388e3c" stroke-width="2"/>
  <text x="500" y="285" font-family="Arial" font-size="12" text-anchor="middle" fill="#388e3c">Balanced</text>

  <!-- Unbalanced state example -->
  <circle cx="550" cy="280" r="20" fill="#ffcdd2" stroke="#d32f2f" stroke-width="2"/>
  <text x="550" y="285" font-family="Arial" font-size="12" text-anchor="middle" fill="#d32f2f">Unbalanced</text>

  <!-- Legend -->
  <rect x="20" y="320" width="150" height="40" fill="white" stroke="#ccc" stroke-width="1" rx="5"/>
  <text x="95" y="335" font-family="Arial" font-size="12" text-anchor="middle" fill="#212121">Legend</text>
  <rect x="30" y="345" width="10" height="10" fill="#e3f2fd" stroke="#1976d2" stroke-width="1"/>
  <text x="45" y="354" font-family="Arial" font-size="10" text-anchor="start" fill="#212121">Controller</text>
  <rect x="90" y="345" width="10" height="10" fill="#e8f5e9" stroke="#388e3c" stroke-width="1"/>
  <text x="105" y="354" font-family="Arial" font-size="10" text-anchor="start" fill="#212121">Plant</text>

  <!-- Labels -->
  <text x="300" y="45" font-family="Arial" font-size="12" text-anchor="middle" fill="#666">Feedback Control for Humanoid Robots</text>

  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#000" />
    </marker>
  </defs>
</svg>